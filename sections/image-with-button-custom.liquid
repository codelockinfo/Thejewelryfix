<div class="main_container">
  <div class="background-img"></div>
  <div class="display_mp4txt">
     <div class="custom_container">
        <div class="column-12">
          <div class="custom_center">
           <div class="custom-video-container">
           {% if section.settings.video_cdn_url %}
               <video class="video_embed" autoplay muted loop>
                <source src="{{ section.settings.video_cdn_url }}" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            {% else %}
              <p>Please add a valid CDN video URL in the section settings.</p>
           {% endif %}
          </div>
         </div>
       </div> 
     </div>

  <div class="back_gorund">
    <div class="custom-row">
      {%- if section.settings.img_position == '1' -%}{{- image_layout -}}{%- endif -%}
      <div class="text_box">
        <div class="padding_text {{section.settings.txt_align}} {{cl_arr[1]}}">
          <div class="sub_head">
            {{section.settings.designstudio}}
          </div>
          <div class="font_title">
            {{section.settings.title}}
          </div>
          
          <div class="custom_class">{{ section.settings.text }}</div>
          
          <!-- Shop Now Button -->
          <div class="btn-shop">
          <a href="{{ section.settings.button_link }}" class="shop_btn">
            SHOP NOW
          </a>
          </div>
        </div>
      </div>
      {%- if section.settings.img_position == '2' -%}{{- image_layout -}}{%- endif -%}
    </div>
  </div>
</div>
</div> 

{% schema %}
  {
   "name": "Image with button-custom",
    "class": "nt_section type_image_text",
    "settings": [
      {
      "type": "image_picker",
      "id": "new_background_image",
      "label": "Background Image"
    },
          {
      "type": "select",
      "id": "img_background",
      "label": "Image Alignment",
      "options": [
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ]
    },
       {
      "type": "text",
      "id": "video_cdn_url",
      "label": "CDN Video URL",
      "default": "https://cdn.example.com/path-to-video.mp4"
    },
    {
      "type": "text",
      "id": "video_width",
      "label": "Video Width (in px)",
      "default": "672"
    },
    {
      "type": "text",
      "id": "video_height",
      "label": "Video Height (in px)",
      "default": "502"
    },
       {
        "type": "text",
        "id": "designstudio",
        "label": "sub-Title",
        "default": "Image with text"
      },
        {
        "type": "text",
        "id": "title",
        "label": "Title",
        "default": "Image with text"
      },
       {
        "type": "text",
        "id": "text",
        "label": "paragraph",
        "default": "Image with text"
      },
        {
        "type": "url",
        "id": "button_link",
        "label": "Button link (Optional)"
      },
    ],
     "presets": [
      {
        "name": "Image with button-custom",
      }
    ]
  }
{% endschema %}

<style>
/* Base Styles */
.main_container {
    background: #1d1d1d;
    overflow: hidden;
    position: relative;
    display: flex;
    height: auto; /* Set to auto to allow dynamic height based on content */
}

.background-img {
    background-image: url('{{ section.settings.new_background_image | img_url: 'master' }}'); 
    position: absolute;
    background-size: cover;  
    left: 0;
    background-position: center center;
    display: block;
    background-repeat: no-repeat;
    width: 100%; /* Set width to 100% for responsive scaling */
    height: 100%; /* Full height of the parent */
    opacity: 0.5; /* Slight visibility for the background */
}

/* Responsive Styles for Mobile (769px to 1100px) */
@media (min-width: 769px) and (max-width: 1100px) {
    .main_container {
        height: auto; /* Let the container height adjust based on content */
        flex-direction: column; /* Stack items vertically */
    }
  
    .custom_center {
        margin-left: 0;
        margin-top: 20px;
        text-align: center; /* Center content on smaller screens */
    }
  
    .video_embed {
        width: 90%; /* Make video responsive */
        height: auto; /* Maintain aspect ratio */
        margin: 0 auto; /* Center the video */
    }
  
    .font_title {
        font-size: 28px; /* Adjust font size for better readability */
    }
  
    .custom_class {
        width: calc(100% - 20px);
        font-size: 14px; /* Smaller font size for mobile */
    }
  
    .btn-shop {
        margin-top: 20px; /* Space for the button */
        width: 100%; /* Full width for the button */
        padding: 10px 0; /* Adjust padding */
    }
  
    .back_gorund {
        padding: 20px; /* Uniform padding */
    }
}

/* Responsive Styles for Desktop (1101px to 2000px) */
@media (min-width: 1101px) and (max-width: 2000px) {
    .main_container {
        height: auto; /* Let the container height adjust */
        flex-direction: row; /* Align items horizontally */
    }
  
    .background-img {
        width: 38%; /* Set specific width for desktop */
        height: auto; /* Adjust height based on content */
    }
  
    .custom_center {
        margin-left: 100px; /* More space on larger screens */
        margin-top: 30px;
    }
  
    .video_embed {
        width: 60%; /* Responsive width for video */
        height: auto; /* Maintain aspect ratio */
        margin-left: 20px; /* Space between video and text */
    }
  
    .font_title {
        font-size: 40px; /* Larger font size for desktop */
    }
  
    .custom_class {
        width: calc(100% - 40px); /* Adjust width for desktop */
        font-size: 18px; /* Adjust font size for desktop */
    }
  
    .btn-shop {
        margin-top: 26px; /* Space for the button */
        width: auto; /* Set to auto for the button size */
    }
  
    .back_gorund {
        padding: 36px; /* More padding for larger screens */
    }
}

  
</style>