<div class="main_container">
  <div class="background-img"></div>
  <div class="display_mp4txt">
     <div class="custom_container">
        <div class="column-12">
          <div class="custom_center">
           <div class="custom-video-container">
           {% if section.settings.video_cdn_url %}
               <video class="video_embed" autoplay muted loop>
                <source src="{{ section.settings.video_cdn_url }}" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            {% else %}
              <p>Please add a valid CDN video URL in the section settings.</p>
           {% endif %}
          </div>
         </div>
       </div> 
     </div>

  <div class="back_gorund">
    <div class="custom-row">
      {%- if section.settings.img_position == '1' -%}{{- image_layout -}}{%- endif -%}
      <div class="text_box">
        <div class="padding_text {{section.settings.txt_align}} {{cl_arr[1]}}">
          <div class="sub_head">
            {{section.settings.designstudio}}
          </div>
          <div class="font_title">
            {{section.settings.title}}
          </div>
          
          <div class="custom_class">{{ section.settings.text }}</div>
          
          <!-- Shop Now Button -->
          <div class="btn-shop">
          <a href="{{ section.settings.button_link }}" class="shop_btn">
            SHOP NOW
          </a>
          </div>
        </div>
      </div>
      {%- if section.settings.img_position == '2' -%}{{- image_layout -}}{%- endif -%}
    </div>
  </div>
</div>
</div> 

{% schema %}
  {
   "name": "Image with button-custom",
    "class": "nt_section type_image_text",
    "settings": [
      {
      "type": "image_picker",
      "id": "new_background_image",
      "label": "Background Image"
    },
          {
      "type": "select",
      "id": "img_background",
      "label": "Image Alignment",
      "options": [
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ]
    },
       {
      "type": "text",
      "id": "video_cdn_url",
      "label": "CDN Video URL",
      "default": "https://cdn.example.com/path-to-video.mp4"
    },
    {
      "type": "text",
      "id": "video_width",
      "label": "Video Width (in px)",
      "default": "672"
    },
    {
      "type": "text",
      "id": "video_height",
      "label": "Video Height (in px)",
      "default": "502"
    },
       {
        "type": "text",
        "id": "designstudio",
        "label": "sub-Title",
        "default": "Image with text"
      },
        {
        "type": "text",
        "id": "title",
        "label": "Title",
        "default": "Image with text"
      },
       {
        "type": "text",
        "id": "text",
        "label": "paragraph",
        "default": "Image with text"
      },
        {
        "type": "url",
        "id": "button_link",
        "label": "Button link (Optional)"
      },
    ],
     "presets": [
      {
        "name": "Image with button-custom",
      }
    ]
  }
{% endschema %}

<style>
.display_mp4txt {
  display: contents;
}

.btn-shop {
  margin-top: 44px;
}

.custom_center {
  margin-left: 278px;
  margin-top: 71px;
}

.custom-row {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
}

.back_gorund {
  margin: 2.60% auto; /* Centering */
  width: 100%;
  padding: 2.86% 2.81% 2.60% 2.90%; /* top right bottom left */
}

.main_container {
  background: #1d1d1d;
  overflow: hidden;
  position: relative;
  display: flex;
  height: 644px;
}

.background-img {
  background-image: url('{{ section.settings.new_background_image | img_url: 'master' }}');
  position: absolute;
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
  width: 617px;
  height: 644px;
  opacity: 0;
}

.custom_container {
  position: relative;
  display: contents;
}

.column-12 {
  padding: 0 15px;
  width: 100%;
}

.font_title {
  font-family: 'Poppins', sans-serif;
  font-size: 64px;
  font-weight: 600;
  line-height: 80.92px;
  color: #FFFFFF;
}

.sub_head {
  font-family: 'Poppins', sans-serif;
  font-size: 24px;
  font-weight: 500;
  line-height: 30.34px;
  letter-spacing: 0.68em;
  color: #CAA45D;
}

.paragraph {
  font-family: 'Poppins', sans-serif;
  font-size: 18px;
  font-weight: 400;
  line-height: 27px;
}

.shop_btn {
  font-family: 'Poppins', sans-serif;
  font-size: 16px;
  padding: 12px 15px;
  width: 130px;
  height: 51px;
  background: #CAA45D;
  font-weight: 600;
  color: black;
}

.custom_class {
  font-family: 'Poppins', sans-serif;
  font-size: 18px;
  font-weight: 400;
  line-height: 27px;
  color: #FFFFFF;
  width: calc(100% - 20px);
  height: 126px;
  margin-top: 40px;
}

.custom-video-container {
  width: 500px;
  height: 500px;
}

.video_embed {
  width: {{ section.settings.video_width }}px;
  height: {{ section.settings.video_height }}px;
  object-fit: cover;
}

.textbox {
  right: 30px;
}

/* Media Queries */

@media (max-width: 463px) {
  .main_container {
    width: 100% !important;
    height: 840px !important;
  }
  
  .btn-shop {
    margin-top: 35px !important;
  }
}

@media (max-width: 768px) {
  .display_mp4txt {
    display: block;
  }

  .main_container {
    width: 100%;
    height: 774px;
  }

  .background-img {
    height: 225px;
    width: 110%;
    left: -16px;
  }

  .video_embed {
    width: 94%;
    height: 288px;
    margin-left: calc(3px + 2vw);
    margin-top: 75px;
  }

  .back_gorund {
    padding-top: 0;
    margin-bottom: 0;
    padding-left: 27px;
  }

  .btn-shop {
    margin-top: calc(31px - 4vw);
  }

  .font_title {
    font-size: 40px;
    margin-top: 21px;
    width: 100%;
  }

  .custom_center {
    margin-left: 0;
    margin-top: 45px;
  }

  .sub_head {
    font-size: 16px;
  }

  .custom_class {
    font-size: 14px;
    margin-top: 23px;
  }

  .shop_btn {
    width: 100%;
    font-size: 14px;
    padding: 10px 12px;
  }

  .custom-video-container {
    width: 100%;
    height: auto;
  }
}

/* Tablet and larger screens */
@media (min-width: 768px) and (max-width: 1280px) {
  .display_mp4txt {
    display: block;
  }

  .main_container {
    height: 972px;
  }

  .background-img {
    height: 325px;
    width: 100%;
  }

  .video_embed {
    width: 119%;
    height: 440px;
    margin-left: 3.5%;
    margin-top: 100px;
  }

  .font_title {
    font-size: 40px;
    width: 100%;
  }

  .custom_class {
    width: 100%;
    margin-top: 23px;
  }

  .shop_btn {
    width: 160px;
    font-size: 16px;
    padding: 12px 15px;
  }

  .custom-video-container {
    width: 100%;
    height: auto;
    opacity: 1;
    position: relative;
  }
}

/* Larger screens */
@media (min-width: 1200px) {
  .main_container {
    height: calc(473px + (15vh));
  }
}

@media (min-width: 1280px) and (max-width: 1920px) {
  .main_container {
    height: clamp(400px, 10vw + 400px, 644px);
  }

  .video_embed {
    width: clamp(480px, 25vw + 120px, 672px);
    height: clamp(360px, 19vw + 100px, 502px);
  }

  .custom_center {
    margin-left: 278px;
    margin-top: calc((clamp(400px, 10vw + 400px, 644px) - clamp(360px, 19vw + 100px, 502px)) / 2);
  }

  .custom_class {
    width: calc(79% + 20px);
    height: 126px;
    margin-top: 1px;
  }

  .back_gorund {
    padding-top: 4.5vw;
    padding-left: 0.9% !important;
  }

  .font_title {
    font-size: 64px;
  }
}

@media (min-width: 1550px) and (max-width: 1670px) {
  .back_gorund {
    padding-left: 2.90% !important;
  }
}

</style>